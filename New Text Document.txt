import telebot
from telebot import types
bot = telebot.TeleBot("5992440857:AAEAdSnZiYdlS_LqUnpYE1e4_E4PI5_rCYQ", parse_mode=None)

size = 5
date = 7
page = 1

def extract_arg(arg):
    return arg.split()[1:]

button_next = types.InlineKeyboardButton('–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞', callback_data='next')
button_prev = types.InlineKeyboardButton('–ü–æ–ø–µ—Ä–µ–¥–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞', callback_data='prev')

keyboard = types.InlineKeyboardMarkup()
keyboard.add(button_next)
keyboard.add(button_prev)

@bot.callback_query_handler(func=lambda call: True)
def handle_query(call):
    query = call.data.split('#')[0]
    global page
    if query=='next':
        page+=1
    elif query=='prev' and page>0:
        page-=1


@bot.message_handler(commands=['sort_date'])
def sort_date(message):
    try:
        date = int(extract_arg(message.text)[0])
    except ValueError:
        bot.reply_to(message, '–ù–µ–≤—ñ—Ä–Ω—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω–Ω—ñ. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å —â–µ —Ä–∞–∑!')
    except IndexError:
        bot.reply_to(message, '–ù–µ–≤—ñ—Ä–Ω—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω–Ω—ñ. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å —â–µ —Ä–∞–∑!')

@bot.message_handler(commands=['sort_size'])
def sort_size(message):
    try:
        date = int(extract_arg(message.text)[0])
    except ValueError:
        bot.reply_to(message, '–ù–µ–≤—ñ—Ä–Ω—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω–Ω—ñ. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å —â–µ —Ä–∞–∑!')
    except IndexError:
        bot.reply_to(message, '–ù–µ–≤—ñ—Ä–Ω—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω–Ω—ñ. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å —â–µ —Ä–∞–∑!')

@bot.message_handler(commands=['start', 'help'])
def send_welcome(message):
    bot.reply_to(message,'''–ü—Ä–∏–≤—ñ—Ç!\n–í–∏–±–µ—Ä–∏ –ø—Ä–µ–¥–º–µ—Ç:
                            –ê–ª–≥–µ–±—Ä–∞üî¢ - /algebra
                            –ì–µ–æ–º–µ—Ç—Ä—ñ—èüìê - /geometry
                            –§—ñ–∑–∏–∫–∞‚öõÔ∏è - /physics
                            –•—ñ–º—ñ—èüî¨ - /chemistry
                            –ë—ñ–æ–≥–æ–≥—ñ—èü¶† - /biology
                            –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞üá∫üá¶ - /ukr
                            –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞üá¨üáß - /eng
                            –ó–∞—Ä—É–±—ñ–∂–Ω–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞üìñ - /worldliterarute
                            –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞üìö - /ukrliterature
                            –§—ñ–∑–∫—É–ª—å—Ç—É—Ä–∞‚öΩ - /physicaleducation
                            –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞üíª - /computerscience
                            –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—óüè≠ - /technology
                            –Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏‚öîÔ∏è - /ukrhistory
                            –í—Å–µ—Å–≤—ñ—Ç–Ω—è —ñ—Å—Ç–æ—Ä—ñ—èüè∫ - /worldhistory
                            –ú–∏—Å—Ç–µ—Ü—Ç–≤–æüé® - /art
                            –ü—Ä–∞–≤–æ–∑–Ω–∞–≤—Å—Ç–≤–æ‚öñÔ∏è - /law
                            ''', reply_markup=keyboard)


@bot.message_handler(commands=['algebra'])
def algebra(message):
    bot.reply_to(message, 'algebra')

@bot.message_handler(commands=['geometry'])
def geometry(message):
    bot.reply_to(message, 'geometry')

@bot.message_handler(commands=['physics'])
def physics(message):
    bot.reply_to(message, 'physics')

@bot.message_handler(commands=['chemistry'])
def chemistry(message):
    bot.reply_to(message, 'chemistry')

@bot.message_handler(commands=['biology'])
def biology(message):
    bot.reply_to(message, 'biology')

@bot.message_handler(commands=['ukr'])
def ukr(message):
    bot.reply_to(message, 'ukr')

@bot.message_handler(commands=['eng'])
def eng(message):
    bot.reply_to(message, 'eng')

@bot.message_handler(commands=['worldliterarute'])
def worldliterarute(message):
    bot.reply_to(message, 'worldliterarute')

@bot.message_handler(commands=['ukrliterature'])
def ukrliterature(message):
    bot.reply_to(message, 'ukrliterature')

@bot.message_handler(commands=['physicaleducation'])
def physicaleducation(message):
    bot.reply_to(message, 'physicaleducation')

@bot.message_handler(commands=['computerscience'])
def computerscience(message):
    bot.reply_to(message, 'computerscience')

@bot.message_handler(commands=['technology'])
def technology(message):
    bot.reply_to(message, 'technology')

@bot.message_handler(commands=['ukrhistory'])
def ukrhistory(message):
    bot.reply_to(message, 'ukrhistory')

@bot.message_handler(commands=['worldhistory'])
def worldhistory(message):
    bot.reply_to(message, 'worldhistory')

@bot.message_handler(commands=['art'])
def art(message):
    bot.reply_to(message, 'art')

@bot.message_handler(commands=['law'])
def law(message):
    bot.reply_to(message, 'law')


bot.infinity_polling()